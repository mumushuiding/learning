# 第8章 类 (Classes)

## 8.1 从结构到类 (From Structure to Class)

struct: 可以定义数据的复合，不能定义操作

```
struct Date{
  int year;
  int month;
}
```

class: 不但可以定义数据的复合，还能定义数据的操作
类：
  * 可以定义数据的复合
  * 能定义操作
  * 实例化为对象时,会自动初始化

成员函数
  * 写在类定义中的成员函数和具有内联性质
  * 可以重载
  * 操作符也可以重载，如： friend Date operator+(...){...} // 重载“+”操作符，添加friend是为了能访问私有数据

常成员函数： 只读成员函数,形式：void print() const{...}


## 8.6 静态成员 (Static Members)


### 8.6.1 静态数据成员

类的静态成员
  * 类独享的全局变量
  * 在类外分配空间和初始化

```
class Student{
  static int number; // number 为Student这个类独享的全局变量
};
int Student::number=0; // 静态数据成员在类外分配空间和初始化
```

### 8.6.2 静态成员函数 (Static Member Functions)

静态成员
  * 函数名前要加上关键字static
  * 不受对象牵制,可以使用类名加上域操作符来调用

```
class Student{
  static void print()
}
int main() {
  Student::print()
}
```
# 第九章 对象生灭 (Object Birth & Death)

## 构造函数设计 (Constructor Design)

### 9.1.1 初始化要求

无初始化：
  * 全局对象为全0位
  * 局部对象为随机值

构造函数：
  * 用于对象的初始化
  * 类若无构造函数，类会默认地建立一个无参的默认构造函数,在初始化时自动执行
  * 不返回值
  * 可以重载
  * 可以设置默认参数,这时候构造函数就变成有参默认构造函数
  * 无参对象定义，如 Date d
    * 当默认构造函数多与一个时会冲突
    * 当有构造函数，无默认构造函数时，会报错
  * 成员初始化，可以在函数体内，也可以跟在参数列表后

析构函数：
  * 在类名前加~的无参构造函数为析构函数
  * 析构函数专门做对象销毁时的善后工作

拷贝构造函数：
  * 默认拷贝构造函数,如:
    
    ```
    Person x("randy");
    Person y=x; // 内嵌对象拷贝的是地址,会重复析构
    Person z(x); // 同上
    ```
  * 自定义拷贝构造函数
    * 通过构造函数重载实现：Person(const Person& s){...}
    * 重新给内嵌对象分配空间，可以解决默认拷贝的问题

对象：
  * 创建
    * 根据定义顺序先后创建
    * 静态对象只创建一次
  * 赋值
    * 深拷贝：
      * 重载赋值（=）操作符
      * 原有对象要先释放
      * 然后再进行赋值
      * this用于表示当前对象地址

